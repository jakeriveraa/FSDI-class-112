<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="{% url 'home' %}">Blog</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown"
            aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}"
             href="{% url 'home' %}">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'about' %}active{% endif %}"
             href="{% url 'about' %}">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'post_list' %}active{% endif %}"
             href="{% url 'post_list' %}">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'post_new' %}active{% endif %}"
             href="{% url 'post_new' %}">New Post</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'gallery' %}active{% endif %}"
             href="{% url 'gallery' %}">Gallery</a>
        </li>
        {% if user.is_authenticated %}
          <li class="nav-item">
            <form action="{% url 'account_logout' %}" method="post" style="display:inline;">
              {% csrf_token %}
              <button type="submit" class="nav-link btn btn-link p-0" style="text-decoration:none;">
                Logout
              </button>
            </form>
          </li>
        {% else %}
          <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'login' %}active{% endif %}"
               href="{% url 'account_login' %}">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'signup' %}active{% endif %}"
               href="{% url 'account_signup' %}">Sign Up</a>
          </li>
        {% endif %}
      </ul>

      <div class="d-flex align-items-center">
        <!-- Theme Toggle Button -->
        <button id="theme-toggle" class="theme-toggle-btn me-3" title="Toggle theme">
          <span class="theme-icon">ðŸŒ™</span>
        </button>

        {% if user.is_authenticated %}
          <span class="user-badge">{{ user.username }}</span>
        {% endif %}
      </div>
    </div>
  </div>
</nav>